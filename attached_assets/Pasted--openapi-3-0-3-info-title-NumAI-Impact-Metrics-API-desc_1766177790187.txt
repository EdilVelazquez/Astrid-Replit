{"openapi":"3.0.3","info":{"title":"NumAI Impact Metrics API","description":"API externa para obtener métricas de uso de la plataforma NumAI. Diseñada para integrarse con aplicaciones de análisis como Impacto Numaris AI.","version":"1.0.0","contact":{"name":"Numaris Development Team","email":"desarrollo@numaris.com"}},"servers":[{"url":"https://numai.numaris.com","description":"Production server"}],"security":[{"ApiKeyAuth":[]}],"paths":{"/api/metrics/impact":{"get":{"summary":"Obtener métricas de impacto","description":"Retorna métricas diarias agregadas de uso de la plataforma NumAI, incluyendo conversaciones, reuniones grabadas, tareas creadas y usuarios activos.","operationId":"getImpactMetrics","tags":["Metrics"],"security":[{"ApiKeyAuth":[]}],"parameters":[{"name":"days","in":"query","description":"Número de días de datos históricos a retornar","required":false,"schema":{"type":"integer","default":30,"minimum":1,"maximum":365}}],"responses":{"200":{"description":"Métricas generadas exitosamente","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ImpactMetricsResponse"}}}},"401":{"description":"No autorizado - API key inválida o faltante","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"500":{"description":"Error del servidor","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}}}}},"components":{"securitySchemes":{"ApiKeyAuth":{"type":"apiKey","in":"header","name":"X-Api-Key","description":"API key para autenticación. Solicitar al administrador de NumAI."}},"schemas":{"ImpactMetricsResponse":{"type":"object","properties":{"generatedAt":{"type":"string","format":"date-time","description":"Fecha y hora de generación de las métricas"},"platform":{"type":"string","example":"NumAI","description":"Nombre de la plataforma"},"totals":{"$ref":"#/components/schemas/Totals"},"usersByDepartment":{"type":"object","additionalProperties":{"type":"integer"},"description":"Conteo de usuarios por departamento","example":{"Ventas":45,"Operaciones":78,"Sin departamento":120}},"dailyMetrics":{"type":"array","items":{"$ref":"#/components/schemas/DailyMetric"},"description":"Array de métricas por día, ordenado de más reciente a más antiguo"}},"required":["generatedAt","platform","totals","usersByDepartment","dailyMetrics"]},"Totals":{"type":"object","properties":{"totalUsers":{"type":"integer","description":"Total de usuarios registrados"},"totalConversations":{"type":"integer","description":"Total de conversaciones de chat"},"totalMeetingsRecorded":{"type":"integer","description":"Total de reuniones grabadas (completadas)"},"totalTasksCreated":{"type":"integer","description":"Total de tareas creadas"},"departments":{"type":"array","items":{"$ref":"#/components/schemas/Department"},"description":"Lista de departamentos"}},"required":["totalUsers","totalConversations","totalMeetingsRecorded","totalTasksCreated","departments"]},"Department":{"type":"object","properties":{"id":{"type":"string","description":"ID único del departamento"},"name":{"type":"string","description":"Nombre del departamento"}}},"DailyMetric":{"type":"object","properties":{"date":{"type":"string","format":"date","description":"Fecha en formato YYYY-MM-DD","example":"2025-12-18"},"conversations":{"type":"integer","description":"Conversaciones iniciadas ese día"},"meetingsRecorded":{"type":"integer","description":"Reuniones grabadas ese día"},"tasksCreated":{"type":"integer","description":"Tareas creadas ese día"},"activeUsers":{"type":"integer","description":"Usuarios activos ese día"},"activeUsersByDepartment":{"type":"object","additionalProperties":{"type":"integer"},"description":"Usuarios activos por departamento","example":{"Ventas":5,"Operaciones":10}}},"required":["date","conversations","meetingsRecorded","tasksCreated","activeUsers","activeUsersByDepartment"]},"Error":{"type":"object","properties":{"error":{"type":"string","description":"Mensaje de error"}}}}}}